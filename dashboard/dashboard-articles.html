<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700;800&family=Montserrat:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />   
<link rel="stylesheet" href="../css/style.css" />
<link rel="shortcut icon" href="../assets/images/logo-color.svg" type="image/x-icon">
    <title>My Brand</title>
  </head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
  <body>
    <div class="dashboard-container " >
    <aside class="dashboard-sidebar">
        <div class="dashboard-image-logo">
            <img src="../assets/images/logo.png" alt="logo"/>
        </div>

        <div class="dashboard-links-container">
            <a href="./dashboard.html" class="rounded-text grey-text category-tag dashboard-link" >
                <img src="../assets//images//dashboard-icons/dashboard.svg" alt="">
                <p>Dashboard</p>
            </a>
            <a href="./dashboard-articles.html"  class="rounded-text grey-text category-tag dashboard-link" id="active-dashboard-link">
                <img src="../assets//images//dashboard-icons/articles.svg" alt="">
                <p>Articles</p>
            </a>
            <a href="./dashboard-messages.html" class="rounded-text grey-text category-tag dashboard-link">
                <img src="../assets//images//dashboard-icons/messages.svg" alt="">
                <p>Messages</p>
            </a>
            <a href="./dashboard-users.html" class="rounded-text grey-text category-tag dashboard-link">
                <img src="../assets//images//dashboard-icons/users.svg" alt="">
                <p>Users</p>
            </a>
            <a href="./dashboard-projects.html" class="rounded-text grey-text category-tag dashboard-link">
                <img src="../assets//images//dashboard-icons/projects.svg" alt="">
                <p>Projects</p>
            </a>
            <a href="./dashboard-tesimonial.html" class="rounded-text grey-text category-tag dashboard-link">
                <img src="../assets//images//dashboard-icons/testimonial.svg" alt="">
                <p>Testimonials</p>
            </a>
        </div>
        <div class="rounded-text grey-text category-tag dashboard-link dashboard-logout">
            <p>Logout</p>
            <img src="../assets//images//dashboard-icons/logout.svg" alt="">

        </div>
    </aside>

    <div class="dashboard-content-container">

        <div class="dashboard-header">
            <div class="input-for search-form">
                <input type="search" name="email" id="email" placeholder="Enter Your Email"/>
                <span class="material-symbols-outlined">
                    search
                    </span>
              </div>
            <div class="dashboard-user-info">
                <img src="../assets/images/my-avatar.svg" alt="avatar" class="avatar">
                <div>
                    <p class="white-text small-text title">Angelo Christian</p>
                    <p class="grey-text small-text">Admin</p>
                </div>
            </div>
        </div>
        <div class="dashboard-content">
        <div class="dashboard-tags-container">
            <div class="dashboard-tag">
                <img src="../assets/images/dashboard-icons/comment.svg" alt="">
                <div>
                    <p class="title white-text">Total Comments</p>
                    <p class="title grey-text big-text">20</p>
                </div>
            </div>
            <div class="dashboard-tag">
                <img src="../assets/images/dashboard-icons/eye.svg" alt="">
                <div>
                    <p class="title white-text">Total Views</p>
                    <p class="title grey-text big-text">20</p>
                </div>
            </div>

            <div class="dashboard-tag">
                <img src="../assets/images/dashboard-icons/articles.svg" alt="">
                <div>
                    <p class="title white-text">Total Articles</p>
                    <p class="title grey-text big-text">20</p>
                </div>
            </div>
        </div>
        <div class="dashboard-data-container">
            <div class="dashboard-blog-container dashboard-all-blogs">
                <div class="dashboard-blog-container-upper ">
                    <div>
                        <p class="title white-text small-text"> Recent Articles</p>
                    <div>
                        <p class="small-text title">Category:</p>
                    <p class=" white-text rounded-text category-tag small-text">All</p>
                    </div>
                    </div>
                    <a href="./dashboard-add-blog.html" class=" white-text rounded-text category-tag small-text">+ New</a>
                </div>
                <div class="dashboard-blog-container-map">

                    <table class="dashboard-blog-table">
                        <thead>
                            <tr class='bg-dark'>
                                <th class="small-text text-white">Poster</th>
                                <th class="small-text text-white">Title</th>
                                <th class="small-text text-white">Category</th>
                                <th class="small-text text-white">Views</th>
                                <th class="small-text text-white ">Comments</th>
                                <th class="small-text text-white ">Likes</th>
                                <th class="small-text text-white ">Created At</th>
                                <th class="small-text text-white "></th>
                                <th class="small-text text-white "></th>
                              </tr>
                        </thead>
                            
                        <tbody id="dashboard-blog-table-body">
                            <tr id="dashboard-blog-row">
                                <td>
                                    <img src="../assets/images/company-logo.png" alt="" class="dashboard-blog-poster">
                                </td>
    
                                <td>
                                    <p class="small-text blog-title">ChatGPT : A Developer's Best Friend or Worst Enemy?</p>
                                </td>
                                <td>
                                    <p class="small-text">Technology</p>
                                </td>
                                <td>
                                    <div class="like">
                                      <img src="../assets//images//dashboard-icons/eye.svg" alt="" >
                                    <p class="light-text smaller-text">12 views</p>  
                                    </div>
                                    
                                </td>
                                <td>
                                    <div class="like">
                                       <img src="../assets//images//dashboard-icons/heart.svg" alt="">
                                    <p class="light-text smaller-text">12 likes</p>  
                                    </div>
                                   
                                </td>
                                <td>
                                    <div class="like">
                                        <img src="../assets//images//dashboard-icons/comment.svg" alt="">
                                    <p class="light-text smaller-text">12 comments</p> 
                                    </div>
                                   
                                </td>
                                <td>
                                    <p class="small-text">04/February/2024</p>
                                </td>
                                <td>
                                    <p class="small-text rounded-text text-blue title category-tag">View</p>
                                </td>
                                <td>
                                    <p class="small-text rounded-text text-green title category-tag">Edit</p>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <img src="../assets/images/company-logo.png" alt="" class="dashboard-blog-poster">
                                </td>
    
                                <td>
                                    <p class="small-text blog-title">ChatGPT : A Developer's Best Friend or Worst Enemy?</p>
                                </td>
                                <td>
                                    <p class="small-text">Technology</p>
                                </td>
                                <td>
                                    <div class="like">
                                      <img src="../assets//images//dashboard-icons/eye.svg" alt="" >
                                    <p class="light-text smaller-text">12 views</p>  
                                    </div>
                                    
                                </td>
                                <td>
                                    <div class="like">
                                       <img src="../assets//images//dashboard-icons/heart.svg" alt="">
                                    <p class="light-text smaller-text">12 likes</p>  
                                    </div>
                                   
                                </td>
                                <td>
                                    <div class="like">
                                        <img src="../assets//images//dashboard-icons/comment.svg" alt="">
                                    <p class="light-text smaller-text">12 comments</p> 
                                    </div>
                                   
                                </td>
                                <td>
                                    <p class="small-text">04/February/2024</p>
                                </td>
                                <td>
                                    <p class="small-text rounded-text text-blue title category-tag">View</p>
                                </td>
                                <td>
                                    <p class="small-text rounded-text text-green title category-tag">Edit</p>
                                </td>
                            </tr>
                            
                        </tbody>
                    </table>
                </div>

            </div>
           
        </div>
    </div>
    </div>
    </div>
    <!-- <script src="../Js/dashboard.js"></script> -->
    <script>
        let allArticles = JSON.parse(localStorage.getItem('articles')) || [];
        // let allArticlesArray = JSON.parse(allArticles);
        let messageRow = document.getElementById('dashboard-blog-row');

        console.log("All articles",allArticles)

        const populateBlogTable = ()=>{
            let tableBody = document.getElementById('dashboard-blog-table-body');
            tableBody.innerHTML='';

            for (let i=0;i<allArticles.length;i++){
                let row = createElement('tr',{'class':'article-row'});
                row.id = `dashboard-${i}`;
                createTdForArticle(row, allArticles[i]);
                tableBody.appendChild(row);
            }
        };
        
        const createTdForArticle=(parent, article)=>{
            let td1 = createElement('td',{'class':'dashboard-blog-poster'});
            let img = createElement('img', {'src':'./Images/defaultPoster.png', 'alt':'', 'class':'dashboard-blog-poster'});
            td1.appendChild(img);
            parent.appendChild(td1);

            let a = createElement('a',{'href':`#dashboard-${article.id}`, 'class':'dashboard-blog-title'});
            a.innerHTML = article.title; 
            let td2 = createElement('td',null,a);
            parent.appendChild(td2);

            let td3 = createElement('td',{'class':'dashboard-blog-category'},article.category);
            parent.appendChild(td3);

            let td4 = createElement('td',{'class':'dashboard-blog-views'},article.views);
            parent.appendChild(td4);

            let btnGroup = createElement('div', {'class':'btn-group float-right'});
            let td5 = createElement('td',{'class':'dashboard-blog-likes'},btnGroup);
            parent.appendChild(td5);
            
            let likeBtn = createLikeButton(article.isLiked);
            likeBtn.addEventListener('click',function(){
                likeBtn.classList.toggle('liked');
                article.isLiked = !article.isLiked;
            });
            btnGroup.appendChild(likeBtn);
            
            allArticles.forEach((article,index)=>{
                let tableRow = document.createElement('tr');
                tableRow.className += "dashboard-blog-row";
                tableRow.id= `dashboard-${index}`;
                createTdForArticle(tableRow, article);
                tableBody.appendChild(tableRow); 
            });
        }
    </script>
  </body>
</html>
